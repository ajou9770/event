<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <title>📝신협 고객정보관리 및 가입설계를 위한 동의서</title>
    <style>
.signature-pad {
    border: 2px solid #ced4da; /* 경계선 스타일 */
    border-radius: 5px; /* 경계선 둥글게 */
    background-color: #ffffff; /* 배경색 */
    box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.2); /* 그림자 효과 */
}

/* 서명 지우기 버튼 스타일링 */
#clear-signature {
    margin-top: 10px;
    background-color: #f8f9fa;
    border: 1px solid #ced4da;
    border-radius: 5px;
    padding: 5px 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

#clear-signature:hover {
    background-color: #e2e6ea;
}
       
    </style>
  </head>
  <body>
    <div class="container">
      <h2>고객정보관리 및 가입설계를 위한 동의서</h2>
      <form id="consent-form">
      <p>본 동의를 거부하시는 경우에는 가임설계가 불가능하며 본 동의서에 의한 개인(신용) 정보
        조회는 귀하의 신용등급에 영향을 주지 않습니다. 또한 동의하시더라도 고객센터(1544-3030)를
        관한 사항
        통해 철회하거나 공제계약상담 목적의 연락에 대한 중단을 요청하실 수 있습니다.
</p>
<p>* 아래 내용에 동의하시면 '동의함'에 'O' 또는 'V' 체크하여 주시기 바랍니다.</p>
<p>당회 및 당회 엄무수탁자는「개인정보 보호범」및 「신용정보의 이용 및 보호에 관한 범들」에 따라 귀하의 개인(신용)정보를 다음과 같이 수집·이용하고자 합니다. 이에 대하여 동의하십니까?</p>
<div class="form-check">
          <input type="checkbox" class="form-check-input" id="consent1">
          <label class="form-check-label" for="consent1">동의함</label>
        </div>
        <br>        
<p>1. 개인(신용)정보의 수집·이용에 관한 사항<br>
口 개인（신용）정보의 수집·이용 목적<br>
·공제계약 상담, 공제계익 인수여부 결정을 위한 판단, 재정설계 관련 서비스, 실손의료보험 중복확인을 위한 타사보험 가입조회<br>
口 수짐·이용할 개인（신용）정보의 내용<br>
·개인식별정보(성명, 주민등록번호, 외국인등록번호, 주소, 직엄, 전화번호, 전자우편주소)<br>
· 질병 및 상해에 관한 정보<br>
·당회, 신용정보집중기관(한국신용정보원) 및 보험요율산출기관에서 수짐·관리하는 공제계약정보 및 공제금지급 관련 정보(사고정보 포함)<br>
口 개인（신용）정보의 보유·이용 기간<br>
·이용기간 : 수집·이용 동의일로부터 3개월까지<br>
·보유기간 : 수집·이용 동의일로부터 1년까지</p>

<p>2. 개인(신용)정보의 조회에 관한 사항</p>
<p>당회 및 당회 엄무수탁자는 「신용정보의 이용 및 보호에 관한 법률」에 따라 귀하의 개인(신용)정보를
다음과 같이 신용정보집중기관(한국신용정보원). 보험요율산출기관 등으로부터 조회하고자 합니다.
이에 대하여 동의하십니까?</p>
<div class="form-check">
    <input type="checkbox" class="form-check-input" id="consent2">
    <label class="form-check-label" for="consent2">동의함</label>
  </div>
  <br> 
<p>口 개인（신용）정보의 조회 목적<br>
·공제계약상담. 공제계약 인수여부 결정을 위한 판단, 실손의료보험 중복가임여부 확인<br>
口 조회할 개인（신용）정보<br>
·신용정보집중기관(한국신용정보원) 및 보험요율산출기관에서 수짐·관리하는 정보(피공제자의 질병 및 상해에 관한정보, 공제계약정보, 공제금지급정보)<br>
口 조회동의 유흐 기간 및 조회자（개인（신용）정보를 제공 받은 자）의 보유·이용 기간<br>
· 동의일로부터 공제계약의 청약시까지(최대 3개월)</p>

<p>3. 민감정보 및 고유식별정보의 처리에 관한 사항</p>
<p>당회 및 당회 업무수탁자는 「개인정보 보호법」및 「신용정보의 이용 및 보호에 관한 법들」에 따라 상기의 개인(신용)정보에 대한 개별 동의사항에 대하여 다음과 같이 귀하의 민감정보(질병·상해정보)및 고유식별정보(주민등록번호·외국인등록번호)를 처리(수집·이용,조회) 하고자 함니다. 이에 동의하심니까?</p>
<p>질병·상해정보 처리</p>
<div class="form-check">
    <input type="checkbox" class="form-check-input" id="consent3">
    <label class="form-check-label" for="consent3">동의함</label>
  </div>
  <br>
<p>주민등록번호·외국인등록번호 처리</p>
<div class="form-check">
    <input type="checkbox" class="form-check-input" id="consent4">
    <label class="form-check-label" for="consent4">동의함</label>
  </div>
  <br>
        <!-- Consent Giver's Information -->
        <div class="form-group">
          <label for="name">동의자 성명</label>
          <input type="text" class="form-control" id="name" required placeholder="성명을 입력하세요">
        </div>
        <div class="form-group">
<!--             <label for="signature-pad">서명</label> -->
            <canvas id="signature-pad" class="signature-pad" width="400" height="200"></canvas>
            <button type="button" id="clear-signature">서명 지우기</button>
        </div>
        
        <div class="form-group">
            <label for="datetime">동의 일시</label>
            <input type="datetime-local" class="form-control" id="datetime" required readonly>
        </div>
        
        <button type="submit" class="btn btn-primary btn-block">✔제출하기</button>
      </form>
    </div>

    <script>
        window.onload = function() {
            var now = new Date();
            var month = ('0' + (now.getMonth() + 1)).slice(-2); // 월은 0부터 시작하므로 1을 더해줍니다.
            var day = ('0' + now.getDate()).slice(-2);
            var hours = ('0' + now.getHours()).slice(-2);
            var minutes = ('0' + now.getMinutes()).slice(-2);
            var formattedDate = now.getFullYear() + '-' + month + '-' + day + 'T' + hours + ':' + minutes;
            document.getElementById('datetime').value = formattedDate;
        };
    </script>   
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
    var canvas = document.getElementById('signature-pad');
    var context = canvas.getContext('2d');

    // 캔버스에 "서명하세요" 텍스트 추가
    function addPlaceholderText() {
        context.font = '18px Arial';
        context.fillStyle = '#cccccc';
        context.textAlign = 'center';
        context.fillText('📝서명하세요', canvas.width / 2, canvas.height / 2);
    }

    // 서명 시작 시 텍스트 지우기
    function clearPlaceholderText() {
        context.clearRect(0, 0, canvas.width, canvas.height);
    }

    // 서명 시작 이벤트
    function startDrawing(event) {
        clearPlaceholderText();
        // 기존 startDrawing 로직
    }

    // 기존의 캔버스 이벤트 리스너 설정
    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('touchstart', startDrawing);
    // 기타 이벤트 리스너들...

    addPlaceholderText(); // 페이지 로드 시 텍스트 추가
});
        </script>

    <script>
        var canvas = document.getElementById('signature-pad');
        var context = canvas.getContext('2d');
    
        // 터치 이벤트와 마우스 이벤트 모두 처리
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('touchstart', startDrawing);
    
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('touchmove', draw);
    
        document.addEventListener('mouseup', stopDrawing);
        document.addEventListener('touchend', stopDrawing);
    
        document.getElementById('clear-signature').addEventListener('click', clearCanvas);
    
        var drawing = false;
    
        function startDrawing(event) {
            drawing = true;
            context.beginPath();
            context.moveTo(getX(event), getY(event));
            event.preventDefault();
        }
    
        function draw(event) {
            if (!drawing) return;
            context.lineTo(getX(event), getY(event));
            context.stroke();
            event.preventDefault();
        }
    
        function stopDrawing() {
            drawing = false;
        }
    
        function clearCanvas() {
            context.clearRect(0, 0, canvas.width, canvas.height);
        }
    
        function getX(event) {
            if (event.touches) {
                return event.touches[0].clientX - canvas.getBoundingClientRect().left;
            }
            return event.clientX - canvas.getBoundingClientRect().left;
        }
    
        function getY(event) {
            if (event.touches) {
                return event.touches[0].clientY - canvas.getBoundingClientRect().top;
            }
            return event.clientY - canvas.getBoundingClientRect().top;
        }
    
        document.getElementById("consent-form").addEventListener("submit", function(e) {
            e.preventDefault();
            var formData = {
                name: document.getElementById("name").value,
                date: document.getElementById("date").value,
                consent1: document.getElementById("consent1").checked,
                consent2: document.getElementById("consent2").checked,
                consent3: document.getElementById("consent3").checked,
                consent4: document.getElementById("consent4").checked,
                signature: canvas.toDataURL('image/png')
            };
            google.script.run.submitConsentForm(formData);
        });
    </script>
    
<!--     
    <script>
      document.getElementById("consent-form").addEventListener("submit", function(e) {
        e.preventDefault();
        var formData = {
          name: document.getElementById("name").value,
          date: document.getElementById("date").value,
          consent1: document.getElementById("consent1").checked,
          consent1: document.getElementById("consent2").checked,
          consent1: document.getElementById("consent3").checked,
          consent1: document.getElementById("consent4").checked
          // Add more fields as needed
        };
        google.script.run.submitConsentForm(formData);
      });
    </script> -->
  </body>
</html>
